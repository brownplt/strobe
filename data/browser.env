// HTMLWindow is the type of the global object. All its fields are added to the
// initial environment.
class HTMLWindow prototype Global {
  document : HTMLDocument,
  setTimeout : (-> Undef) * Int -> Int,
  setInterval : ( -> Undef) * Int -> Int,
  clearInterval : Int -> Undef,
  clearTimeout : Int -> Undef,
  window : HTMLWindow,
  console : {
    log : Str -> Undef, 
  },
}

class TextRectangle {
  left : Num,
  top : Num,
  right : Num,
  bottom : Num,
  width : Num,
  height : Num
}

class HTMLElement  {
  getBoundingClientRect : -> TextRectangle,
  onmousemove : Event -> Undef
}

class HTMLDocument {
  getElementById : Str -> Null + HTMLElement,
  onclick : Event -> Undef,
  onmousemove : Event -> Undef,
  write : Str -> Undef,
  createElement : Str -> HTMLElement
}

class HTMLImageElement prototype HTMLElement {
  alt : Str,
  src : Str,
  useMap : Str,
  isMap : Bool,
  width : Int,
  height : Int,
  naturalWidth : Int,
  naturalHeight : Int,
  complete : Bool,

  onload : Event -> Undef,
}

class HTMLLabel {
  innerHTML : Str
}

//not sure if this is valid.. not sure what
//happens if an event of the wrong type appears (e.g. not a mouse move event)
class Event {
  pageX : Int,
  pageY : Int,
  clientX : Int,
  clientY : Int
}

//canvas!
class HTMLCanvasElement prototype HTMLElement {
  width : Int,
  height : Int,
  getContext : Str -> CanvasRenderingContext2D,
  toDataURL : Str + Undef -> Str,
}

class CanvasGradient {
  addColorStop : Num * Str -> Undef
}

class CanvasPattern {
}

class ImageData {
  width : Int,
  height : Int,
  data : Array<Int> //really a CanvasPixelArray, but acts like this.
                    //also should really be Byte, not Int.
}

class CanvasRenderingContext2D {
  clearRect : Num * Num * Num * Num -> Undef,
  fillStyle : Str + CanvasGradient + CanvasPattern,
  fillRect : Num * Num * Num * Num -> Undef,
  beginPath : -> Undef,
  closePath : -> Undef,
  arc : Num * Num * Num * Num * Num * Bool -> Undef,
  fill : -> Undef,
  getImageData : Num * Num * Num * Num -> ImageData,
  putImageData : ImageData * Num * Num -> Undef,
  drawImage : HTMLImageElement * Num * Num -> Undef,
}


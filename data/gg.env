// Based on http://code.google.com/apis/desktop/docs/gadget_apiref.html

gddSoundStateStopped : Int
gddSoundStatePlaying : Int
gddItemDisplayAsNotification : Int
gddDetailsViewFlagToolbarOpen : Int

class Point {
  x : Int,
  y : Int
}

class Audioclip {
  balance : Int,
  currentPosition : Int,
  duration : Int,
  error: Int,
  src : String,
  state : Int,
  volume : Int,

  play : -> Void,
  pause : -> Void,
  stop : -> Void,

  //onStateChange : Audioclip * Int -> Void
}

class Menu  {
  AddItem : String * Int * ({ } -> Void) -> Void
}

class BasicElement {
  cursor : String,
  dropTarget : Boolean, 
  enabled : Boolean,
  height : Int,
  hitTest : String,
  mask : String,
  name : String,        
  offsetHeight : Int,   
  offsetWidth : Int,
  offsetX : Int, //note: these offsets are read only
  offsetY : Int,
  opacity : Int,
  parentElement : BasicElement,
  pinX : Int,
  pinY : Int,
  rotation : Number,
  tagName : String,
  tooltip : String,
  width : Int,
  visible : Boolean,
  x : Int,
  y : Int,
  focus : -> Void
}

class ContentItem {
  image : Image,
  notifier_image : Image,
  time_created : Date,
  heading : String,
  source : String,
  snippet : String,
  open_command : String,
  layout : Int,
  flags : Int, //write-only
  tooltip : String
}

class Button prototype BasicElement {
  image : String,
  overImage : String,
  downImage : String,
  disabledImage : String
}

class Contentarea {
  contentFlags : Int,
  maxContentItems : Int,
  contentItems : Any,
  pinImages : Any,

  addContentItem : ContentItem * Int -> Void,
  removeContentItem : ContentItem -> Void,
  removeAllContentItems : -> Void
}

class Image {

}

class Img prototype BasicElement {
  colorMultiply : String,
  cropMaintainAspect : String,
  src : String,
  srcHeight : Int,
  srcWidth : Int,
  setSrcSize : Int * Int -> Void
}

class Div prototype BasicElement {
  appendElement : String -> BasicElement,
}

class Label prototype BasicElement {
  align : String,
  bold : Boolean,
  color : String,
  font : String,
  innerText : String,
  italic : Boolean,
  size : Int,
  strikeout : Boolean,
  trimming : String,
  underline : Boolean,   
  vAlign : String,
  wordWrap : Boolean
}

class Edit prototype BasicElement {
  value : String
}

class Checkbox prototype BasicElement {
  value : Boolean
}

class Collection {
  //dnno wtf is here
}

class Event {
  returnValue : Boolean, //write-only
  srcElement : BasicElement,
  type : String,

  button : Int,
  wheelDelta : Int,
  x : Int, 
  y : Int,

  dragFiles : Collection,

  keyCode : Int,

  height : Int,
  width : Int,

  propertyName : String,

  cookie : Int,
  value : Int,

  perfmon : Any
}

class Progressbar prototype BasicElement {
  emptyImage : String,
  fullImage : String,
  max : Int,
  min : Int,
  orientation : String,
  thumbDisabledImage : String,
  thumbDownImage : String,
  thumbOverImage : String,
  thumbImage : String,
  value : Int,
}

class View prototype Global {
  alert : String -> Void,
  caption : String,
  event : Event,
  height : Int,
  width : Int,
  resizable : Bool,
  showCaptionAlways : Bool,

  beginAnimation : (-> Void) * Int * Int * Int -> Int,
  cancelAnimation : Int -> Void,

  setTimeout : (-> Void) * Int -> Int,
  setInterval : ( -> Void) * Int -> Int,
  clearInterval : Int -> Void,
  clearTimeout : Int -> Void,
  confirm : String -> Boolean,

  ContentItem : -> ContentItem
}

view : View

framework : {
  openURL : String -> Void,
  audio : {
    play : String * (Audioclip * Int -> Void) -> Audioclip
  },
  system : {
    cursor: {
      position : Point
    }
  }
}

options : { 
  getValue : String -> Any,
  putDefaultValue : String * Any -> Void,
  putValue : String * Any -> Void
}

event : Event

class Gadget {
  debug : { trace : String -> Void },
  storage : { extract : String -> String,
              openText : String -> String },
}

gadget : Gadget

class Plugin {
  onAddCustomMenuItems : Menu -> Void,
  max_content_items : Int
}

plugin : Plugin
pluginHelper : Plugin

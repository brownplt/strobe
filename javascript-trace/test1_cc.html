<html>
<head>

<script type="text/javascript" src="prototype.js"></script>
<script type="text/javascript" src="data/jstrace.js"></script>

<title>JSTrace test</title>

<script type="text/javascript">
function pln(s) {
   s = s || "";
   var p = document.createTextNode(s);
   var rezdiv = document.getElementById("rezdiv");
   rezdiv.appendChild(p);
   rezdiv.appendChild(document.createElement('br'));
}

var takeUnumbool = __typedjs(
  "takeUnumbool",
  function (arg, arg2) {
    if (arg2) return 9999;
    if (typeof arg == "object")
      return -666;
    if (typeof arg == "number")
      return arg;
    if (arg) return 100;
    return 50;
  });

var strproc1 = __typedjs("strproc1", function (s) { return s+"X"; });
var strproc1b = __typedjs("strproc1", function (s) { return s+"X"; });
var strproc2 = __typedjs("strproc2", function (o) { return o+"Y"; });
var idd = __typedjs("idd", function (o) { return o; });

var procStr = __typedjs(
  "procStr",
  function (s, strproc) {
    return strproc(s);
  });

function loader() {
  setTimeout(useFunction, 600);
}

function useFunction() {
  pln(takeUnumbool(10));
  pln(takeUnumbool(10));
  pln(takeUnumbool(false));
  pln(takeUnumbool(true));
  pln(takeUnumbool(-5));
  pln(takeUnumbool({x:20}));
  pln(takeUnumbool({x:'fa'}));

  pln(procStr("Hey", strproc1));
  pln(procStr("Hey", strproc1b));
  pln(procStr("Hey", strproc2));
  pln(procStr(100, strproc2));
  pln(procStr(true, strproc2));
  pln(procStr({x: 100}, strproc2));

  idd(3);
  idd("HEHEH");
}

</script>
</head>

<body id="body" onload="loader()">
<div id="rezdiv"></div>
</body>

</html>
